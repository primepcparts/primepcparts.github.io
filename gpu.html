<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PrimePcParts | Buy Graphics Cards</title>
  <meta name="description" content="Browse and buy high-performance graphics cards at PrimePcParts.">
  <meta name="keywords" content="graphics cards, buy GPU, gaming GPU, professional GPU">
  <link rel="canonical" href="https://www.primepcparts.com/">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="assets/css/styles.css" rel="stylesheet">
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" href="https://primepcparts.github.io/">
        <img src="assets/img/logo.png" alt="PrimePcParts Logo">
        <span>PrimePcParts</span>
      </a>
    </div>
  </nav>

  <!-- Graphics Cards Section -->
  <section id="graphics-cards" class="py-5">
    <div class="container">
      <h2 class="text-center mb-4">Browse Graphics Cards</h2>
      <div class="row" id="graphics-cards-container"></div>
    </div>
  </section>

  <!-- JavaScript -->
  <script>
    const sheetUrl = 'https://opensheet.elk.sh/1iUhbStYP6d63-AFyalNRyLUAhsEhDf7JF0pzKoqYK6M/Sheet1';
    fetch(sheetUrl)
      .then(response => response.json())
      .then(async (data) => {
        const container = document.getElementById('graphics-cards-container');
        data.forEach(async (item, index) => {
          const folderName = item.PhotoFolder;
          const photos = await getLocalImagePaths(folderName);
          const carouselId = `carousel-${index}`;

          const carouselHtml = `
            <div id="${carouselId}" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-indicators">
                ${photos.map((photo, i) => `<li data-bs-target="#${carouselId}" data-bs-slide-to="${i}" class="${i === 0 ? 'active' : ''}" style="background-image: url('${photo}');"></li>`).join('')}
              </div>
              <div class="carousel-inner">
                ${photos.map((photo, i) => `
                  <div class="carousel-item ${i === 0 ? 'active' : ''}">
                    <img src="${photo}" class="d-block w-100 card-img-top" alt="GPU Image">
                  </div>`).join('')}
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#${carouselId}" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#${carouselId}" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
              </button>
            </div>`;

          const cardHtml = `
            <div class="col-md-4 mb-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">${item.Name}</h5>
                  ${carouselHtml}
                  <p class="card-text"><strong>Price:</strong> ₹${item.Price}</p>
                  <button class="btn btn-warning" onclick="buyItem('${item.Name}', '${item.Price}')">Buy Now</button>
                </div>
              </div>
            </div>`;
          
          container.insertAdjacentHTML('beforeend', cardHtml);
        });
      });

    async function getLocalImagePaths(folderName) {
      const imagePaths = [];
      for (let i = 1; i <= 5; i++) {
        const imagePath = `assets/img/gpu/${folderName}/photo${i}.jpeg`;
        const response = await fetch(imagePath, { method: 'HEAD' });
        if (response.ok) {
          imagePaths.push(imagePath);
        }
      }
      return imagePaths;
    }

    function buyItem(name, price) {
      const message = `I want to buy: ${name} - Price: ₹${price}`;
      window.open(`https://wa.me/+918275433068?text=${encodeURIComponent(message)}`, '_blank');
    }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>